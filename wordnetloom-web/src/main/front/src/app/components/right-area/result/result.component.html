<div *ngIf="showNothingFoundMsg" class="row">
  <div class="text-center col-12">
    <h3>No units found, try modifying your query.</h3>
  </div>
  <hr>
</div>


<div *ngIf="content.length > 0">
<div class="row">
  <div class="text-center col-12">
    <h3>{{ content[0].lemma }}</h3>
    <h4><span matTooltip="Part of speech">{{ content[0].partOfSpeech }}</span><span *ngIf="content[0].grammaticalGender" matTooltip="Grammatical gender">, {{ content[0].grammaticalGender }}</span>, <span matTooltip="Lexicon">{{ content[0].flag }}</span></h4>
  </div>
</div>

<div class="row main-area-row" [ngClass]="{'expanded':footerPanelHidden}">

  <!--GRAPH AREA-->
  <div class="col-sm-7 col-md-8 graph-area" [ngClass]="{'col-sm-12 col-md-12': rightPanelHidden}">
    <app-graph-main></app-graph-main>
    <button class="expand-btn expand-right" (click)=" rightPanelHidden= !rightPanelHidden; ">
      <i *ngIf="!rightPanelHidden" class="fa fa-chevron-right"></i>
      <i *ngIf="rightPanelHidden" class="fa fa-chevron-left"></i>
    </button>
    <!--<div class="img-mockup"></div>-->
  </div>
  <!--GRAPH AREA END-->

  <!--SENSE DETAIL AREA-->
  <div class="col-sm-5 col-md-4 sense-detail-col" [ngClass]="{'d-none': rightPanelHidden}">
    <h5 class="text-center">Selected unit details:</h5>
    <h6 class="text-center" *ngIf="!yiddishContentPresent">No data avaliable for selected unit.</h6>
    <mat-tab-group *ngIf="yiddishContentPresent" selectedIndex="1">
      <mat-tab class="tab-title" label="Variants: " disabled></mat-tab>
      <mat-tab *ngFor="let content of content" [label]="content.yiddishVariant">
        <div class="row area-row">
          <div *ngFor="let area of content.areas" class="col-12 area-row">
            <div class="card full-width">
              <div class="card-body">
                <table class="table slim">
                  <tr *ngFor="let field of area.fields">
                    <td><b>{{ field.name }}:</b></td>
                    <td>
                      <span  *ngFor="let link of field.values">
                        <p *ngIf='!link.searchQuery'>{{ link.name }}</p>
                        <a *ngIf='link.searchQuery' routerLink="/detail/search_params" [queryParams]="link.searchQuery">
                          {{ link.name }}
                        </a>
                      </span>

                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>


    <div *ngIf="relations.length > 0" class="row area-row">
      <div class="card full-width small-margin">
        <div class="card-body">
          <h4 class="card-title">Relations:</h4>
          <div *ngFor="let relation of relations" class="row">
            <div class="col-md-4 col-lg-5"><b>{{ relation.key }}:</b></div>
            <div class="col-md-8 col-lg-7">
                  <span *ngFor="let member of relation.items; let isLast=last">
                    <a [routerLink]="'/detail/' + member['target']">{{ member['lemma']}}</a>{{isLast ? '' : ', '}}
                  </span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <!--GRAPH AREA END -->
</div>


  <!--FOOTER AREA-->
  <!--FOOTER AREA END-->


  <!--<app-sense-visualization [visible]="true" [senseId]="lemmaId"></app-sense-visualization>-->
</div>


<div class="row footer" [ngClass]="{'dropped':footerPanelHidden}">
  <button class="expand-btn expand-footer" (click)="footerPanelHidden= !footerPanelHidden">
    <i *ngIf="!footerPanelHidden" class="fa fa-chevron-down"></i>
    <i *ngIf="footerPanelHidden" class="fa fa-chevron-up"></i>
  </button>

  <div class="col animate-flex no-gutters footer-content">
    <mat-tab-group class="vertical" [ngClass]="{'first-selected': footerFirstTabSelected}"
                   (selectedIndexChange)="footerTabChange($event)">
      <mat-tab label="Context">
        <ul>
          <li>context</li>
          <li>context</li>
          <li>context</li>
          <li>context</li>
          <li>context</li>
        </ul>
      </mat-tab>
      <mat-tab label="Comment">
        <ul>
          <li>comment</li>
          <li>comment</li>
          <li>comment</li>
          <li>comment</li>
          <li>comment</li>
          <li>comment</li>
        </ul>
      </mat-tab>
    </mat-tab-group>

  </div>
</div>
